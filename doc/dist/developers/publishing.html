<!DOCTYPE html>
<html lang="en">
<head>
    <title>Publishing Paks</title>
    <!-- Copyright Embedthis Software. All Rights Reserved. -->
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="Package manager for Applications" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Open+Sans:300italic,400,300,700'
        rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Julius+Sans+One' rel='stylesheet' type='text/css'>
    <link href="../images/favicon.ico" rel="shortcut icon" />
    <link href="../semantic-ui/semantic.css" rel="stylesheet" type="text/css" />
    <link href="../css/all.css" rel="stylesheet" type="text/css" />
    

</head>
<body>
        

    <div class="sidebar">
        <div class="ui large left vertical inverted labeled menu">
            <div class="item">
                <a href="../index.html" class="logo">Pak Docs</a>
            </div>
            <div class="item">
                <a href="../index.html">
                    <b>General</b>
                </a>
                <div class="menu">
                    <a class="item" href="../index.html">Pak Overview</a>
                    <a class="item" href="../users/features.html">Pak Features</a>
                    <a class="item" href="https://embedthis.com/pak/download.html">Download</a> 
                    <a class="item" href="../licensing/index.html">Licensing</a>
                </div>
            </div>
            <div class="item">
                <a href="../start/index.html">
                    <b>Getting Started</b>
                </a>
                <div class="menu">
                    <a class="item" href="../start/quick.html">Quick Start</a>
                    <a class="item" href="../start/installing.html">Installing</a>
                    <a class="item" href="../start/releaseNotes.html">Release Notes</a>
                    <a class="item" href="../start/source.html">Building from Source</a>
                </div>
            </div>
            <div class="item">
                <a href="../users/index.html"><b>User's Guide</b></a>
                <div class="menu">
                    <a class="item" href="../users/tour.html">Quick Tour</a>
                    <a class="item" href="../users/searching.html">Searching for Packages</a>
                    <a class="item" href="../users/installing.html">Installing Packages</a>
                    <a class="item" href="../users/customizing.html">Customizing Packages</a>
                    <a class="item" href="../users/versions.html">Package Versions</a>
                    <a class="item" href="../users/modes.html">Pak Modes</a>
                </div>
            </div>

            <div class="item">
                <a href="../developers/index.html"><b>Developer's Guide</b></a>
                <div class="menu">
                    <a class="item" href="../developers/publishing.html">Publishing Packages</a>
                    <a class="item" href="../developers/configuration.html">Pak Configuration</a>
                </div>
            </div>
            <div class="item">
                <a href="../users/project.html">Project Resources</a>
                <div class="menu">
                    <a class="item" href="http://goo.gl/t5tTNO">Official Pak News</a>
                    <a class="item" href="https://embedthis.com/pak/">Pak Web Site</a>
                    <a class="item" href="https://embedthis.com/catalog/#/">Pak Catalog</a>
                    <a class="item" href="https://github.com/embedthis/pak">Source Code Repository</a>
                    <a class="item" href="https://github.com/embedthis/pak/issues">Project Issue Database</a>
                    <a class="item" href="https://github.com/embedthis/pak/releases">Change Log</a>
                    <a class="item" href="https://github.com/embedthis/pak/milestones">Roadmap</a>
                    <a class="item" href="https://embedthis.com/developers/contributors.html">Contributors Agreement</a>
                </div>
            </div>
            <div class="item">
                <b>Links</b>
                <div class="menu">
                    <a class="item" href="https://embedthis.com/">Embedthis Web Site</a>
                    <a class="item" href="https://embedthis.com/blog/">Embedthis Blog</a>
                    <a class="item" href="http://twitter.com/mobstream">Twitter</a>
                </div>
            </div>
        </div>
    </div>




    <div class="ui inverted masthead">
         
        <div class="ui fixed inverted menu">
            <div class="ui sidebar-launch button">
                <i class="icon list layout"></i>
            </div>
            <div class="right menu">
                  
                    <a class="item" href="https://embedthis.com/">Embedthis</a>
                    <a class="item" href="https://embedthis.com/pak/">Pak Site</a>
                    <span class="desktop-only">
                        <a class="item" href="http://goo.gl/Fg0Kf7">Pak News</a>
                        <a class="item" href="https://github.com/embedthis/pak">Repository</a>
                        <a class="item" href="https://embedthis.com/blog/">Blog</a>
                        <a class="item" href="https://twitter.com/mobstream">Twitter</a>
                    </span>

            </div>
        </div>
        
        <div class="ui breadcrumb">
            <a class="section" href="../">Home</a>
            
            <div class="divider">/</div>
            <a class="section" href="index.html">
                User's Guide
            </a>
            
            
            <div class="divider">/</div>
            <a class="active section" href="publishing.html">Publishing Paks</a>
            
        </div>
        
        <div class="version desktop-only">
            v0.10.0
        </div>

    </div>
    <div class="content">

            <h1>Publishing Paks</h1>

            <p>You can publish a package for use by Pak in one of three package catalogs:</p>
            <ul>
                <li><a href="http://bower.io/search/">Bower Catalog</a></li>
                <li><a href="http://npmjs.org/">NPM Catalog</a></li>
                <li><a href="http://embedthis.com/catalog/">Pak Catalog</a></li>
            </ul>
            <p>This document describes the process for creating a package in the Pak catalog. Consult the relevant
                NPM or Bower documentation for creating packages in those catalogs.</p>
                
            <h2>Publishing to the Pak Catalog</h2>
            <p>To publish a new package, create your package.json and then run <em>pak</em> in your application directory.
            <code>pak publish NAME ENDPOINT PASSWORD</code>
            <p>The NAME is the globally unique name for your package. It may contain <em>-</em>, <em>_</em> or <em>.</em>
            characters. Check the <a href="http://embedthis.com/catalog">Pak Catalog</a> for currently published Pak
            names in the Pak catalog.</p>

            <p>The ENDPOINT is a valid GitHub endpoint that hosts your package contents. The PASSWORD is the
            password to use to manage this package in the catalog. Choose and protect this password carefully and
            then use it to modify or retract your package in the catalog.</p>

            <h3>Reserved Pak Prefixes</h3>
            Pak names that start with <em>appweb</em>, <em>esp</em>, <em>ejs</em>, <em>embedthis</em>, <em>exp</em>, 
            <em>expansive</em>, <em>go</em>, <em>goahead</em>, <em>makeme</em>,
            <em>me</em> and <em>pak</em> are reserved.</p>

            <h2>Package.json</h2>
            <p>The package.json file defines a pakcage. It defines the package name, version, authoring details
            and dependencies. The format is specified by
                <a href="http://wiki.commonjs.org/wiki/Packages/1.1">
                http://wiki.commonjs.org/wiki/Packages/1.1</a> and also used by
                the <a href="http://npmjs.org">NPM</a> and <a href="http://bower.io">Bower</a> catalog packages. 
                For example:</p>
<code>{
    "name": "Package name - one word"
    "description": "Package description - one line"
    "version": "1.2.3",
    "keywords": [
        "comms", "websockets", "sockets", "ssl",
    ],
    "author": {
        "name": "Your name",
        "email": "Your email",
        "url": "Your web site"
    },
    "bugs": {
        "email": "name@example.com",
        "url": "http://example.com/bugs"
    },
    "license": "GPL",
    "dependencies": {
        "jquery": "1.9.x",
        "angular": "~1.2",
    },
    "pak": {
        "import": true,
        "mode": "debug"
    }
}</code>
            <p>At a minimum, a package.json must have a <em>name</em>, <em>description</em> and <em>version</em>. 
            Other fields are optional. Versions follow the <a href="http://semver.org">Semver 2</a> standard. i.e.
                major.minor.patch[-pre-release]. See <a href="versions.html">Package Versions</a> for more details.</p>
            <h2>Standard Fields</h2>
            <ul>
                <li><p>dependencies &mdash; List of packages and the acceptable versions. Version fields may include
                        expressions that describe a range of acceptable versions. For example:</p>
                    <p>
                    <table title="versions" class="ui celled table segment">
                        <thead>
                            <tr>
                                <th class="nowrap">Topic</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>version</td><td>(allows prereleases)</td></tr>
                            <tr><td>^version</td><td>(same as &gt;=1.2.3 &lt;2.0.0, does not allow prereleases)</td></tr>
                            <tr><td>~version</td><td>(same as &gt;=1.2.3 &lt;2.0.0, allows prereleases)</td></tr>
                            <tr><td>1.2.X </td><td> (any version starting with 1.2 (allows prereleases)</td></tr>
                            <tr><td>&gt;, &gt;=, &lt;, &lt;=, ==, != version</td><td>Version expression</td></tr>
                            <tr><td>expression || expression </td><td>either expression qualifies</td></tr>
                            <tr><td>expression &amp;&amp; expression </td><td>both expressions must qualify</td></tr>
                            <tr><td>expression expression </td><td>same as &amp;&amp;</td></tr>
                        </tbody>
                    </table>
                    </p>
                </li>
                <li>files &mdash; list of files to include when caching and installing the package. These are 
                    applied before considering export definitions.</li>
                <li>ignore &mdash; list of files to exclude when caching and installing the package. These are 
                    applied before considering export definitions.</li>
            </ul>

            <h2>Pak Configuration Properties</h2>
            <p>Pak defines some properties in the <em>package.json</em> file under the <em>pak</em> property.
            All other property names under the <em>pak</em> property are reserved. If you need custom configuration
            settings for your application, you should create your own top-level package.json property set.</p>
            <table class="ui celled table">
                <thead>
                    <tr><th>Name</th><th>Description</th></tr>
                </thead>
                <tbody>
                    <tr><td>blend</td><td>Properties to blend from a package into the application package.json when
                        installing the package.</td></tr>
                    <tr><td>export</td><td>Export instructions to export package files from the <em>paks</em> directory 
                        into the application's <em>lib</em> directory.</td></tr>
                    <tr><td>frozen</td><td>Define the package as frozen and impervious to upgrades.</td></tr>
                    <tr><td>import</td><td>Enable exporting of package conents when installing packages. 
                        Defaults to false.</td></tr>
                    <tr><td>install</td><td>Permit the package to be locally installed. If false, the package
                        will be cached, but not installed in the <em>paks</em> directory. Defaults to true.</td></tr>
                    <tr><td>manage</td><td>Array of external json files to manage by blending their properties when
                        installing the package.</td></tr>
                    <tr><td>mode</td><td>Application execution mode. Selects a property set from the 
                        <em>pak.modes</em> collection and copy to the top level.</td></tr>
                    <tr><td>modes</td><td>Properties to be blended into the top-level application package.json.</td></tr>
                    <tr><td>origin</td><td>Location of the package in the Pak cache.</td></tr>
                    <tr><td>override</td><td>Local overrides for package package.json properties.</td></tr>
                    <tr><td>precious</td><td>Protect a package in the cache from pruning unless forced.</td></tr>
                    <tr><td>version</td><td>Pak program version (expression) required by this package.</td></tr>
                </tbody>
            </table>

            <h2>Want More?</h2>
            <p>For more details, see:</p>
            <ul>
                <li><a href=" http://package.json.nodejitsu.com">http://package.json.nodejitsu.com</a></li>
                <li><a href="http://wiki.commonjs.org/wiki/Packages/1.1">http://wiki.commonjs.org/wiki/Packages/1.1</a></li>
                <li><a href="https://npmjs.org/doc/json.html">https://npmjs.org/doc/json.html</a></li>
            </ul>

    </div>
    <div class="terms ui basic center aligned segment">
        <p>&copy; Embedthis Software, 2003-2014. All rights reserved.</p>
    </div>

    <script src="../jquery/jquery.min.js"></script>
    <script src="../semantic-ui/semantic.js"></script>
    <script>
        var sl = $('.sidebar-launch');
        $('.sidebar-launch').click(function() {
            var body = $('body');
            if (!body.hasClass('show-sidebar')) {
                body.addClass('show-sidebar');
                $('.sidebar').css('visibility', 'visible');
            } else {
                body.removeClass('show-sidebar');
                $('.sidebar').css('visibility', 'hidden');
            }
        });
        $('.sidebar-launch').trigger('click');
        $('.sidebar a.item').click(function(e) {
            sessionStorage.setItem('scroll-top', $('.sidebar').scrollTop());
        });
        $(function() {
            var url = '../developers/publishing.html';
            var active = $('.sidebar a[href="' + url +'"]');
            active.addClass('active');
            $('.sidebar').scrollTop(sessionStorage.getItem('scroll-top'));
        });
    </script> 

</body>
</html>
