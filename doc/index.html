<!-- BeginDsi "dsi/head.html" -->
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Embedthis Pak 0.8.2 Documentation</title>
    <meta name="keywords" content="package manager, pak" />
    <meta name="description" content="Embedthis Pak." />
	<meta name="robots" content="index,follow" />
	<link href="bootstrap.css" rel="stylesheet" type="text/css" />
	<link href="app.css" rel="stylesheet" type="text/css" />
    <link href="http://www.google.com/cse/style/look/default.css" type="text/css" rel="stylesheet" />
</head>
<body>
    <header>
        <nav class="navbar navbar-inverse navbar-static-top">
            <div class="navbar-header">
                <a class="navbar-brand ng-cloak" href="http://embedthis.com/products/pak/">Embedthis Pak</a>
            </div>
            <!--
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav navbar-right ng-cloak">
                    <li>
                        <form class="navbar-form">
                            <input class="form-control" type="text">
                            <i class="glyphicon glyphicon-search"></i>
                            <div id="cse-search-form"></div>
                        </form>
                    </li>
                </ul>
            </div>
            -->
        </nav>
    </header>
<!-- EndDsi -->

    <main class="container ng-cloak">
        <section class="content col-sm-10" id="content">
            <div class="jumbotron">
                <div class="pull-right">
                    <img height="256" src="images/pak.png">
                </div>
                <h1>Embedthis Pak</h1>
            </div>
            
            <p>Embedthis Pak is a simple package manager for embedded applications. 
            It makes it easy to retrieve, integrate and manage components for applications using Appweb, ESP and EJS. 
            The Pak catalog provides tested, integrated componens that work together. It is not intended
            as a generic package manager to install complete applications.</p>
            <p>Pak implements the CommonJS Package specification and 
                uses Git as back-end storage for packages. Pak calls packages "paks". This is not a misspelling.</p>
            <h4>Why Pak?</h4>
            <p>Existing package managers like Bower are excellent, but the published components are typically tuned for enterprise 
            environments and not for embedded use. The Pak catalog publishes components specificially tailored to for
            embedded but Pak can also install any Bower component.</p>
           
            <h4>Features</h4>
            <p>Pak is implemented primarily as a single script of some 2K lines and is very hackable. 
             It has the following major features:</p>
            <ul>
                <li> Install, list and uninstall packages into a local application</li>
                <li> Manages a local cache of retrieved packages</li>
                <li> Provides a global catalog to search for public paks</li>
                <li> Easy upgrading paks when new versions become available</li>
                <li> Automatically retrieves and installs dependant paks</li>
                <li> Supports the CommonJS package standard</li>
                <li> Supports the SemVer package versioning standard</li>
                <li> Supports GitHub as the primary pak storage repository</li>
            </ul>
            <h4>Nice Parts</h4>
            <p>While Pak has a strong feature set, there are some characteristics that make Pak particularly sweet.</p>
            <ul>
                <li> Local cache of paks supports fast offline use</li>
                <li> Can publish, modify and retract paks in the global catalog</li>
                <li> Web portal to manage your published paks</li>
                <li> Integrates with the Bower repository to seamlessly download Bower components</li>
                <li> Packages are described via a Package.json file that is compatible with nodejs</li>
                <li> Fast, fast, fast. Did I say fast?</li>
            </ul>
            <h2>Download</h2>
            <p>Download from <a href="http://embedthis.com/products/pak/">http://embedthis.com/products/pak/</a> or build
            from source at <a href="https://github.com/embedthis/pak">https://github.com/embedthis/pak</a>.
            <h2>Basic Usage</h2>
            <h4>Installing Paks</h4>
            <p>To install named paks:</p>
            <pre>pak install PAK...</pre>
            <p>A PAK can be the name of a package published in the Pak catalog. It can also be the path to a local pak directory.
            A PAK name may also have a "#version" suffix that nominates a specific version to install. All required dependent paks
            will be automatically installed.
            <p>To install all the paks required by an application as specified in package.json:</p>
            <pre>pak install</pre>
            <h4>Removing Paks</h4>
            <pre>pak uninstall PAK...</pre>
            <h4>To list installed paks</h4>
            <pre>pak list</pre>
            <h4>To display pak dependencies</h4>
            <pre>pak depend</pre>
            <p>This will display the installed paks and their dependencies with versions.</p>
    
            <h4>To show what paks are present in the cache</h4>
            <p>When pak installs a package, it keeps a copy of the pak in the Pak cache which is typically at "~/.paks".
            The cache stores all versions downloaded of a Pak.</p>
            <pre>pak cached</pre>
            <h4>To pre-cache a pak</h4>
            <p>To download and cache a pak but not install in the local directory</p>
            <pre>pak cache Name</pre>
            <h4>To prune old versions from the cache</h4>
            <pre>pak prune</pre>
            <h2>Configuration</h2>
            <h4>To show the Pak configuration</h4>
            On startup, Pak reads configuration from a pakrc file. This file defines the operational configuration for Pak. To
            show the pak configuration:
            <pre>pak config</pre>
            <p>This displays something like:</p>
<pre>{
    "catalogs": [
        "http://localhost:5000/do/pak",
        "https://bower.herokuapp.com/packages",
    ],
    "dirs": {
        "paks": "paks",
        "pakcache": "~/.paks",
    },
}
</pre>
            <p>The "catalogs" property specifies the web sites that host Pak or Bower catalogs. The "paks" directory is the name of the local
            application sub-directory in which to store paks. The "pakcache" directory defines where to cache paks on the local system.</p>
            <p>Pak locates a valid pakrc file by searching in order until it finds a suitable configuration file. This is the
            search order:</p>
            <ol>
                <li>pakrc</li>
                <li>.pakrc</li>
                <li>../pakrc and ../.pakrc 
                <li>.. repeat up the parent directory chain</li>
                <li>/etc/pakrc</li>
                <li>package.json</li>
            </ol>
            <p>The package.json is always loaded if present after any pakrc file.</p>
            <h2>Publishing Paks</h2>
            <p>To publish a new pak, create your package.json and then run pak in your application directory.
            <pre>pak publish NAME ENDPOINT PASSWORD</pre>
            <p>The NAME is the globally unique name for your pak. It may contain "-", "_" or "." characters.
            Pak names that start with "esp", "ejs", "appweb", "bit" and "pak" are reserved.
            Check the <a href="http://embedthis.com/catalog">Pak Catalog</a> for currently published Pak
            names.</p>
            <p>The ENDPOINT is a valid GitHub endpoint that hosts your pak contents. The PASSWORD is the 
            password to use to manage this pak in the catalog. Choose and protect this password carefully and
            then use it to modify or retract your pak in the catalog.</p>
            <h2>Package.json</h2>
            <p>The package.json file defines a pak. It defines the package name, version, authoring details
            and dependencies. The format is specified by
                <a href="http://wiki.commonjs.org/wiki/Packages/1.1">
                http://wiki.commonjs.org/wiki/Packages/1.1</a>. For example:
<pre>{
    "name": "Package name - one word"
    "description": "Package description - one line"
    "version": "1.2.3",
    "keywords": [
        "comms", "websockets", "sockets", "ssl",
    ],
    "author": {
        "name": "Your name",
        "email": "Your email",
        "url": "Your web site"
    },
    "bugs": {
        "email": "name@example.com",
        "url": "http://example.com/bugs"
    },
    "license": "GPL",
    "dependencies": {
        "jquery": "1.9.x",
        "angular": "~1.2",
    }
}</pre>
            <p>At a minimum, a package.json must have a "name", "description" and "version". Other fields
            are optional. Versions follow the <a href="http://semver.org">Semver 2</a> standard. i.e.
                major.minor.patch[-pre-release].</p>
            <h4>Custom Fields</h4>
            <p>Pak supports several custom fields in the package.json file.</p>
            <ul>
            <li>client-scripts &mdash; this is the list of Javascripts that a web application would like
                served. The ESP web framework automatically includes these when rendering a scripts() call.</li>
            <li>files &mdash; list of files to include when caching and installing the pak</li>
            <li>ignore &mdash; list of files to exclude when caching and installing the pak</li>
            <li>esp &mdash; properties made available to ESP applications</li>
            <li>dependencies &mdash; List of paks and the acceptable versions. Version fields may include expressions that
            describe a range of acceptable versions. For example: 
                <ul>
        <li>version &mdash; (allows prereleases)</li>
        <li>^ version &mdash; (same as >=1.2.3 <2.0.0, does not allow prereleases)</li>
        <li>~ version &mdash; (same as >=1.2.3 <2.0.0, allows prereleases)</li>
        <li>1.2.X &mdash; (any version starting with 1.2 (allows prereleases)</li>
        <li>[>, >=, <, <=, ==, !=] version
        <li>expression || expression ... (either expression qualifies)</li>
        <li>expression && expression ... (both expressions must qualify)</li>
        <li>expression expression ... (same as &&) </li>
                </ul>
            </li>
            </ul>
            <p>For more details, see:</p>
            <ul>
                <li><a href=" http://package.json.nodejitsu.com">http://package.json.nodejitsu.com</a></li>
                <li><a href="http://wiki.commonjs.org/wiki/Packages/1.1">http://wiki.commonjs.org/wiki/Packages/1.1</a></li>
                <li><a href="https://npmjs.org/doc/json.html">https://npmjs.org/doc/json.html</a></li>
            </ul>
            <h2>Commands</h2>
            <p>The Pak command has the following commands:</>
            <ul>
            <li>cache [paks...] &mdash; Populate the cache with paks </li>
            <li> cached [paks...]         &mdash; List paks in the cache </li>
            <li> config                   &mdash; Show the Pak configuration </li>
            <li> depend [paks...]         &mdash; Display installed pak dependencies </li>
            <li> edit key[=value]...      &mdash; Edit a pak description file </li>
            <li> help ...  &mdash; Display this usage help </li>
            <li> info paks...             &mdash; Display README for a pak </li>
            <li> init [name [version]]    &mdash; Create a new package.json </li>
            <li> install paks...          &mdash; Install a pak on the local system </li>
            <li> list [paks...]           &mdash; list installed paks </li>
            <li> prune [paks...]          &mdash; Prune named paks </li>
            <li> publish [name uri pass]  &mdash; publish a pak in a catalog </li>
            <li> retract name [pass]      &mdash; Unpublish a pak </li>
            <li> search paks...           &mdash; Search for paks in the catalog </li>
            <li> uninstall                &mdash; Uninstall a pak on the local system </li>
            <li> update [paks...]         &mdash; Update the cache with latest version of paks </li>
            <li> upgrade [paks...]        &mdash; Upgrade installed paks </ul>
            </ul>
            <h2>Options</h2>
            <p>The Pak command has the following options:</>
            <ul>
                <li>--all URI &mdash; Show all versions of a pak.</li>
                <li>--catalog URI &mdash; Set the catalog URI to use for install, cache, publish and retract commands.</li>
                <li>--details URI &mdash; Show more pak details. Useful with pak list.</li>
                <li>-dir directory &mdash; Change to the given directory before running.</li>
                <li>--force &mdash; Force the command to continue. This is useful to install or cache a pak when dependencies cannot be satisfied.  It is also useful to cache or install an already cached/installed pack. Aliased as -f.</li>
                <li>--paks directory &mdash; Specify the directory to use for the paks cache. This overrides the values specified 
                    in the various pakrc files.</li>
                <li>--quiet &mdash; Run in quiet mode with less verbose otuput. Aliased as -q.</li>
                <li>--silent &mdash; Run in silent mode suppressing all but hard errors. Aliased as -s.</li>
                <li>--versions URI &mdash; Show pak version information.</li>
            </ul>
            <h2>Release</h2>
            <ul class="bare">
                <li><a href="product/changeLog.html">Change Log</a></li>
                <li><a href="product/roadmap.html">Roadmap</a></li>
            </ul>
            <h2>Resources</h2>
            <ul class="bare">
                <li><a href="https://github.com/embedthis/pak">Source Code Repository</a></li>
                <li><a href="https://github.com/embedthis/pak/issues">Project Issue Database</a></li>
                <li><a href="http://embedthis.com/products/appweb/doc/guide/esp/users/index.html">ESP Documentation</a></li>
                <li><a href="http://embedthis.com/">Embedthis Web Site</a></li>
                <li><a href="http://embedthis.com/blog/">Embedthis Blog</a></li>
            </ul>
            <h2>License</h2>
                <p>&copy; Embedthis Software LLC, 2003-2013.  Licensed under the GPL license.</p>
            <p>
        </div>
    </div>
<!-- BeginDsi "dsi/bottom.html" -->
    <script src="http://www.google.com/jsapi" type="text/javascript"></script>
    <script type="text/javascript"> 
      google.load('search', '1', {language : 'en'});
      google.setOnLoadCallback(function() {
        var customSearchControl = new google.search.CustomSearchControl(
          '000262706376373952077:1hs0lhenihk');
        customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
        var options = new google.search.DrawOptions();
        options.enableSearchboxOnly("http://embedthis.com/search.html");
        customSearchControl.draw('cse-search-form', options);
      }, true);
    </script>
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-179169-5']);
        _gaq.push(['_trackPageview']);
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
</body>
</html>
